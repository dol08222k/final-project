`timescale 1ns / 1ps

module draw_module(
	input wire clk_pix,
	input wire rst,
	input [1023:0] mmap_hour_10s, mmap_hour_1s, mmap_min_10s, mmap_min_1s, 
                   mmap_sec_10s, mmap_sec_1s, mmap_c_tens, mmap_c_ones,
                   mmap_frac, mmap_dealer_tens, mmap_dealer_ones, mmap_user_tens,
                   mmap_user_ones, mmap_alarm_hour_tens, mmap_alarm_hour_ones,
                   mmap_alarm_set_hour_tens, mmap_alarm_set_hour_ones,
                   mmap_alarm_min_tens, mmap_alarm_min_ones, mmap_alarm_set_min_tens,
                   mmap_alarm_set_min_ones,
	input wire [9:0] sx,
	input wire [9:0] sy,
	input wire de,
	input wire hsync,
	input wire vsync,
	output reg vga_hs,
	output reg vga_vs,
	output reg [3:0] vga_r,
	output reg [3:0] vga_g,
	output reg [3:0] vga_b
    );
    //make draw signals 32*32 / 16*32
    reg [1023:0] mmap_dot_c = 1024'b0000000000000000000000000000000000011100000000000010000000000000001111100000011111111110000000000011111000011111111111111000000000111110001111111111111111000000000111000111111000000011110000000000000001111000000000001100000000000000111100000000000000000000000000011111000000000000000000000000000111100000000000000000000000000001111000000000000000000000000000111100000000000000000000000000001111000000000000000000000000000011110000000000000000000000000000111100000000000000000000000000001111000000000000000000000000000011110000000000000000000000000000111100000000000000000000000000001111000000000000000000000000000011110000000000000000000000000000111100000000000000000000000000001111000000000000000000000000000001111000000000000000000000000000011110000000000000000000000000000111110000000000000000000000000000111110000000000001000000000000001111110000000001111000000000000001111111110111111100000000000000001111111111111111000000000000000000111111111111000000000000000000000011111110000000000000000000000000000000000000000000;
    reg [511:0] mmap_dot = 512'b00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000111100000000000111111000000000011111100000000000111100000000000000000000000000000000000000;
    
    wire q_draw;
    assign q_draw = ((sx>=144 && sx<=175)  && (sy>=224 && sy<=255))  ? mmap_c_tens[32*(32-sy+224)-1-sx+144] :
                    ((sx>=176 && sx<=207)  && (sy>=224 && sy<=255))  ? mmap_c_ones[32*(32-sy+224)-1-sx+176] :
                    ((sx>=208 && sx<=223)  && (sy>=224 && sy<=255))  ? mmap_dot[16*(32-sy+224)-1-sx+208] :
                    ((sx>=224 && sx<=255)  && (sy>=224 && sy<=255))  ? mmap_frac[32*(32-sy+224)-1-sx+224] :
                    ((sx>=256 && sx<=287)  && (sy>=224 && sy<=255))  ? mmap_dot_c[32*(32-sy+224)-1-sx+256]
                    : 0;
                    
    //drive display
    always @(posedge clk_pix)
    begin
        vga_hs <= hsync;
        vga_vs<= vsync;
        vga_r<=!de ? 0 : (q_draw ? 4'h0 : 4'hF);
	    vga_g<=!de ? 0 : (q_draw ? 4'h0 : 4'hF);
	    vga_b<=!de ? 0 : (q_draw ? 4'h0 : 4'hF);
    end
    
endmodule